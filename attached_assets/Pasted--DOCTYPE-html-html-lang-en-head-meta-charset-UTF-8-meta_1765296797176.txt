<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Signal Layout (Flat)</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Custom font family */
        :root {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<!-- Removed 'flex items-center justify-center' for flat layout -->
<body class="bg-gray-50 min-h-screen p-4 sm:p-8">

    <!-- Added 'mx-auto' for horizontal centering -->
    <div id="signal-card-container" class="max-w-4xl w-full mx-auto">
        <!-- Content will be rendered here by JavaScript -->
    </div>

    <script>
        // Data structure (previously signalData in React)
        const signalData = {
            action: "SELL",
            pair: "ETH/USD",
            // Realistic values for demonstration: Price fell 19.5 points since entry (a profitable SELL)
            entry: 2340.0000, 
            currentPrice: 2320.5000,
            stopPrice: 2377.7988469934457,
            targetPrice: 2240.858124160172,
            riskReward: 4.1,
            timeframe: "15M",
            age: "3m ago",
            // CONTEXT REMOVED
            context: "",
        };

        // Helper function (previously formatPrice)
        const formatPrice = (price) => price.toFixed(4);

        /**
         * Renders the trading signal content into the container element, now styled as a flat layout.
         */
        function renderSignalCard() {
            const container = document.getElementById('signal-card-container');
            if (!container) return;
            
            // --- P&L CALCULATION LOGIC ---
            let pnlPercentage = 0;
            let isProfitable = false;
            let pnlText = "--.--";

            if (signalData.entry > 0) {
                const entry = signalData.entry;
                const current = parseFloat(signalData.currentPrice);
                
                if (!isNaN(current)) {
                    let diff;
                    // For SELL, profit is (Entry - Current). For BUY, profit is (Current - Entry).
                    if (signalData.action === "SELL") {
                        diff = entry - current;
                    } else { // Assuming BUY
                        diff = current - entry;
                    }

                    pnlPercentage = (diff / entry) * 100;
                    isProfitable = pnlPercentage >= 0;
                    // Format output: add '+' sign for positive gain
                    pnlText = (isProfitable ? "+" : "") + pnlPercentage.toFixed(2) + "%";
                }
            }

            // Determine Tailwind classes for Net Gain section based on profitability
            const pnlBgClass = isProfitable ? 'bg-green-50/50' : 'bg-red-50/50';
            const pnlTextClass = isProfitable ? 'text-green-600' : 'text-red-600';
            const pnlBorderClass = isProfitable ? 'border-l-4 border-green-500' : 'border-l-4 border-red-500';
            // --- END P&L CALCULATION LOGIC ---


            // Template literal for rendering the entire component structure
            container.innerHTML = `
                <!-- Removed bg-white, border, rounded-xl, and shadow-xl for flat appearance -->
                <div class="p-6 sm:p-8 space-y-6">

                    <!-- CONTEXT SECTION REMOVED TO ELIMINATE EMPTY SPACE AND BORDER -->

                    <!-- Header Section: Action, Pair, and Entry -->
                    <!-- IMPROVEMENT: Added sm:flex-row and sm:justify-between to ensure stacking on mobile -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center pb-4 space-y-3 sm:space-y-0">
                        
                        <!-- NEW: Clickable Area (Action + Pair) - Added 'group' class -->
                        <div id="pair-header" class="group flex items-center space-x-3 cursor-pointer hover:opacity-80 transition duration-200">
                            <!-- SELL Indicator (High Contrast, REMOVED rounded-full) -->
                            <span class="inline-flex items-center px-3 py-1 text-sm font-semibold bg-red-600 text-white shadow-md">
                                ${signalData.action}
                            </span>
                            <!-- Trading Pair (ADDED 'group-hover:underline' for visual feedback) -->
                            <h1 class="text-xl sm:text-2xl font-extrabold text-gray-900 tracking-tight group-hover:underline">
                                ${signalData.pair}
                            </h1>
                        </div>
                        
                        <!-- Entry Status -->
                        <div class="text-right">
                            <p class="text-xs font-semibold text-gray-500 uppercase">Entry</p>
                            <!-- FONT REDUCED from text-xl to text-lg -->
                            <p class="text-lg font-bold text-gray-800">${formatPrice(signalData.entry)}</p>
                        </div>
                    </div>

                    <!-- Current Price and Timeframe Bar -->
                    <!-- Note: This border-y now effectively acts as the top border for the main data section. -->
                    <div class="border-y border-gray-200 py-4 flex flex-col sm:flex-row justify-between items-start sm:items-end">
                        <!-- Current Price -->
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase mb-1">Current Price</p>
                            <!-- FONT REDUCED from text-xl to text-lg -->
                            <p class="text-lg font-bold text-gray-900">
                                ${formatPrice(signalData.currentPrice)}
                            </p>
                        </div>
                        <!-- Timeframe and Age -->
                        <div class="mt-4 sm:mt-0 flex items-center space-x-3 text-sm font-medium text-gray-500">
                            <span class="px-2 py-0.5 bg-gray-200 text-gray-800 rounded text-xs font-mono font-semibold">${signalData.timeframe}</span>
                            <span class="flex items-center">
                                <!-- Clock Icon -->
                                <svg class="w-4 h-4 mr-1 text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                ${signalData.age}
                            </span>
                        </div>
                    </div>

                    <!-- Metrics Grid: Stop, Target, R.R., and NET GAIN -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 pt-4">

                        <!-- 1. Stop Price (FONT REDUCED from text-xl to text-lg) -->
                        <div class="p-4 bg-red-50/50 rounded-lg border-l-4 border-red-500 shadow-sm">
                            <p class="text-xs font-semibold text-gray-500 uppercase mb-1">Stop</p>
                            <p class="text-lg font-bold text-red-600 truncate">
                                ${formatPrice(signalData.stopPrice)}
                            </p>
                        </div>

                        <!-- 2. Target Price (FONT REDUCED from text-xl to text-lg) -->
                        <div class="p-4 bg-green-50/50 rounded-lg border-l-4 border-green-500 shadow-sm">
                            <p class="text-xs font-semibold text-gray-500 uppercase mb-1">Target</p>
                            <p class="text-lg font-bold text-green-600 truncate">
                                ${formatPrice(signalData.targetPrice)}
                            </p>
                        </div>

                        <!-- 3. Risk/Reward Ratio (FONT REDUCED from text-3xl to text-2xl) -->
                        <div class="p-4 bg-indigo-50/50 rounded-lg col-span-2 md:col-span-1 border-l-4 border-indigo-500 shadow-sm">
                            <p class="text-xs font-semibold text-gray-500 uppercase mb-1">R.R.</p>
                            <p class="text-2xl font-extrabold text-indigo-700">
                                ${signalData.riskReward}
                            </p>
                        </div>

                        <!-- 4. NET GAIN (FONT REDUCED from text-xl to text-lg) -->
                        <div class="p-4 rounded-lg col-span-2 md:col-span-1 ${pnlBgClass} ${pnlBorderClass} shadow-sm">
                            <p class="text-xs font-semibold text-gray-500 uppercase mb-1">Net Gain</p>
                            <p class="text-lg font-bold ${pnlTextClass}">
                                ${pnlText}
                            </p>
                        </div>

                    </div>

                </div>
            `;

            // Attach click listener to the pair header to show details
            document.getElementById('pair-header').addEventListener('click', () => {
                console.log('Pair header clicked. Logic for modal/details would go here.');
            });
        }

        // Run the render function when the window loads
        window.onload = renderSignalCard;

    </script>
</body>
</html>